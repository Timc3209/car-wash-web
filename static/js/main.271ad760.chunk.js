(this["webpackJsonpcar-wash-web"]=this["webpackJsonpcar-wash-web"]||[]).push([[0],{170:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(31),c=t.n(o),i=t(19),l=t(88),s=t(22),d=t(70),u=t(89),m=t(90),p=t.n(m),g=t(91),E=t(10),b=t(9),O={id:"0",username:"",token:"",loggedIn:!1};var h={searching:!1,address:{name:"",address:""},companies:[]};var k=t(71),f={bookingCompany:void 0,bookingDate:(new Date).getTime(),bookingTimeSlot:void 0,bookingType:"",bookingPackage:{id:"",name:"",price:0,duration:0,lines:[]},bookingAddons:[],bookingAddonIDs:[],bookingPrice:0,bookingDuration:0};var T=Object(s.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b.LOGIN_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{id:a.payload.id,username:a.payload.username,token:a.payload.token,loggedIn:a.payload.loggedIn});case b.LOGOUT:return Object(E.a)({},O);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b.SEARCH_SET:return Object(E.a)(Object(E.a)({},e),{},{address:a.payload});case b.SEARCH_START:return Object(E.a)(Object(E.a)({},e),{},{address:a.payload,searching:!0});case b.SEARCH_FAIL:return Object(E.a)(Object(E.a)({},e),{},{address:a.payload,searching:!1});case b.SEARCH_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{searching:a.payload.searching,address:a.payload.address,companies:a.payload.companies});default:return e}},booking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b.SET_BOOKING_COMPANY:return Object(E.a)(Object(E.a)({},f),{},{bookingCompany:a.payload});case b.SET_BOOKING_DATE:return Object(E.a)(Object(E.a)({},e),{},{bookingDate:a.payload,bookingTimeSlot:void 0});case b.SET_BOOKING_TIMESLOT:return Object(E.a)(Object(E.a)({},e),{},{bookingTimeSlot:a.payload});case b.SET_BOOKING_TYPE:return Object(E.a)(Object(E.a)({},e),{},{bookingType:a.payload,bookingPackage:f.bookingPackage});case b.SET_BOOKING_TOTAL:return Object(E.a)(Object(E.a)({},e),{},{bookingPrice:a.payload.price,bookingDuration:a.payload.duration});case b.SET_BOOKING_PACKAGE:return Object(E.a)(Object(E.a)({},e),{},{bookingPackage:a.payload});case b.ADD_BOOKING_ADDON:return Object(E.a)(Object(E.a)({},e),{},{bookingAddons:[].concat(Object(k.a)(e.bookingAddons),[a.payload]),bookingAddonIDs:[].concat(Object(k.a)(e.bookingAddonIDs),[a.payload.id])});case b.REMOVE_BOOKING_ADDON:return Object(E.a)(Object(E.a)({},e),{},{bookingAddons:e.bookingAddons.filter((function(e){return e.id!==a.payload.id})),bookingAddonIDs:e.bookingAddonIDs.filter((function(e){return e!==a.payload.id}))});case b.RESET_BOOKING:return f;default:return e}}}),S={key:"main",storage:p.a},y=Object(d.a)(S,T),v=Object(u.composeWithDevTools)(Object(s.applyMiddleware)(g.a)),N=Object(s.createStore)(y,v),_=Object(d.b)(N),A=t(15),C=t(16),I=t(18),D=t(17),B=t(30),j=t(13),w=t(52),G=function(e){var a=e.loggedIn,t=Object(w.a)(e,["loggedIn"]);return a?r.a.createElement(j.b,t):r.a.createElement(j.a,{to:"/"})},K=t(180),x=t(181),P=t(182),L=t(183),W=t(184),R=t(175),M=t(176),H=t(177),U=t(178),Y=t(179),F=t(92),z=t.n(F),V=[{id:"xac14768-ab4b-43d1-a18e-2fb12a75eae2",name:"Ultimate",price:49.99,duration:75,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine","Hand Wax","Rain-X"]},{id:"xbc14768-ab4b-43d1-a18e-2fb12a75eae2",name:"Supreme",price:39.99,duration:60,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine","Hand Wax"]},{id:"xcc14768-ab4b-43d1-a18e-2fb12a75eae2",name:"Basic",price:29.99,duration:45,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine"]},{id:"xdc14768-ab4b-43d1-a18e-2fb12a75eae2",name:"Deluxe",price:19.99,duration:30,lines:["Exterior Hand Wash","Hand Dry"]}],X=[{id:"xac14768-ab4b-43d1-a18a-2fb12a75eae2",name:"Ultimate",price:59.99,duration:90,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine","Hand Wax","Rain-X"]},{id:"xbc14768-ab4b-43d1-a18b-2fb12a75eae2",name:"Supreme",price:49.99,duration:75,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine","Hand Wax"]},{id:"xcc14768-ab4b-43d1-a18c-2fb12a75eae2",name:"Basic",price:39.99,duration:60,lines:["Exterior Hand Wash","Hand Dry","Wheel Shine"]},{id:"xdc14768-ab4b-43d1-a18d-2fb12a75eae2",name:"Deluxe",price:29.99,duration:45,lines:["Exterior Hand Wash","Hand Dry"]}],J=[{id:"xac14768-ab4b-43d1-a18e-2fb10a75eae2",name:"Dashboard Conditioner",price:9.99,duration:10},{id:"xbc14768-ab4b-43d1-a18e-2f412a75eae2",name:"Fragrance",price:2.99,duration:5}],q=[{id:"hac14768-ab4b-43d1-a18e-2fb10a75eae2",name:"8AM-10AM",from:"8:00",to:"10:00",disabled:!1,type:"weekday"},{id:"hbc14768-ab4b-43d1-a18e-2fb10a75eae2",name:"10AM-12PM",from:"10:00",to:"12:00",disabled:!1,type:"weekday"}],$=[{id:"bcc14768-ab4b-43d1-a18e-2fb12a75eae2",name:"Dream Wash",desc:"The Dream Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@dreamwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q},{id:"c1a673cf-f667-4c08-a909-a5b3b51addc8",name:"Jet Wash",desc:"The Jet Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@jetwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q},{id:"46e186dd-69b8-49bc-8a9f-93f353279e3d",name:"Fast Wash",desc:"The Fast Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@fastwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q},{id:"16e186dd-69b8-49bc-8a9f-93f353279e3d",name:"New Dream Wash",desc:"The New Dream Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@dreamwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q},{id:"26e186dd-69b8-49bc-8a9f-93f353279e3d",name:"New Jet Wash",desc:"The New Jet Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@jetwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q},{id:"36e186dd-69b8-49bc-8a9f-93f353279e3d",name:"New Fast Wash",desc:"The New Fast Car Wash is one of the most reliable car wash and detailing businesses in San Antonio, TX",street:"500 Trumbal",city:"Live Oak",state:"Texas",zip:"78233",country:"USA",phone:"2104444444",email:"support@fastwash.com",packages:V,packagesTruck:X,addons:J,timeSlots:q}],Q=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){var e;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).autocomplete=void 0,e.searchAddress=function(a){var t=e.props,n=t.searchStart,r=t.searchSuccess;e.autocomplete&&e.autocomplete.setVal(a.name);var o={address:a,companies:$,searching:!1};n(a),setTimeout((function(){return r(o)}),250)},e.onAddressChanged=function(a){var t=e.props,n=t.searchSet,r=t.landing,o=t.history;!1!==r?(n(a),o.push("/search/")):e.searchAddress(a)},e.setAutocomplete=function(a){e.autocomplete=a},e}return Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.landing,t=e.address;!1===a&&this.searchAddress(t)}},{key:"render",value:function(){var e=this,a=this.props.landing;return r.a.createElement(z.a,{"data-testid":"location-autocomplete",placesRef:this.setAutocomplete,placeholder:"Enter address",className:a?"form-control-lg form-control":"form-control",options:{appId:Object({NODE_ENV:"production",PUBLIC_URL:"/car-wash-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ALGOLIA_APP_ID,apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/car-wash-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ALGOLIA_APP_KEY,language:"en",countries:["us"],aroundLatLng:"29.5652,-98.3364",aroundLatLngViaIP:!1,type:"address"},onChange:function(a){var t=a.suggestion;return e.onAddressChanged({name:t.name,address:t.value})},onLimit:function(){return console.log("Fired when you reached your current rate limit.")},onError:function(){return console.log("Fired when we could not make the request to Algolia Places servers for any reason but reaching your rate limit.")}})}}]),t}(r.a.Component),Z={searchSuccess:function(e){return{type:b.SEARCH_SUCCESS,payload:e}},searchSet:function(e){return{type:b.SEARCH_SET,payload:e}},searchStart:function(e){return{type:b.SEARCH_START,payload:e}}},ee=Object(i.b)((function(e){return{address:e.search.address}}),Z)(Q),ae=Object(j.g)(ee),te=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){var e;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).logout=function(){(0,e.props.logout)()},e}return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,a=e.fixed,t=e.showSearch,n=e.page,o=e.loggedIn;return r.a.createElement("div",{className:"header-container"},r.a.createElement(R.a,{color:"dark",dark:!0,expand:"md",fixed:a},r.a.createElement(M.a,{href:"#"},"Car Wash"),t&&r.a.createElement("div",{className:"navbar-search desktop-only"},r.a.createElement(ae,{landing:!1})),r.a.createElement("div",{className:"navbar-right"},r.a.createElement(H.a,{navbar:!0},r.a.createElement(U.a,null,o?r.a.createElement(Y.a,{href:"#",onClick:this.logout,className:"nav-link"},"Log out"):r.a.createElement(Y.a,{href:"#login".concat(n),className:"nav-link"},"Sign in"))))),t&&r.a.createElement("div",{className:"navbar-search-mobile mobile-only"},r.a.createElement(ae,{landing:!1})))}}]),t}(r.a.Component),ne={logout:function(){return{type:b.LOGOUT}}},re=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),ne)(te),oe=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,{fixed:"top",showSearch:!1,page:"/"}),r.a.createElement("main",{className:"landing-background"},r.a.createElement("div",{className:"overlay"}),r.a.createElement(K.a,null,r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement("h1",{className:"mb-5 text-white"},"Where do you want to wash your car?"))),r.a.createElement(L.a,null,r.a.createElement(x.a,null,r.a.createElement(P.a,{sm:"12",md:"8",lg:"9",className:"mb-4"},r.a.createElement(ae,{landing:!0})),r.a.createElement(P.a,{sm:"12",md:"4",lg:"3"},r.a.createElement(W.a,{color:"primary",size:"lg",block:!0},"Book Your Wash")))))))}}]),t}(r.a.Component),ce=t(43),ie=t(67),le=t.n(ie),se=t(93),de=t(185),ue=t(186),me=t(187),pe=t(188),ge=function(e){var a=e.id,t=e.name,n=e.value,o=e.type,c=e.label,i=e.placeholder,l=e.onChange,s=e.errorMessage;return r.a.createElement(de.a,null,r.a.createElement(ue.a,{for:a},c),r.a.createElement(me.a,{type:o,name:t,value:n,id:a,placeholder:i,invalid:""!==s,onChange:l}),r.a.createElement(pe.a,null,s))},Ee=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){var e;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={email:"demo@gmail.com",password:"demo",page:"",id:"",errors:{email:"",password:""}},e.setPage=function(a,t){t=void 0===t?"":t,e.setState({page:a,id:t})},e.clearError=function(a){var t=e.state.errors;t[a]="",e.setState({errors:t})},e.setError=function(a,t){var n=e.state.errors;n[a]=t,e.setState({errors:n})},e.checkLogin=Object(se.a)(le.a.mark((function a(){var t,n,r,o,c,i,l;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.props.history,n=e.state,r=n.email,o=n.password,c=n.page,i=n.id,""!==r){a.next=5;break}return e.setError("email","Please enter a valid email"),a.abrupt("return",!1);case 5:if(""!==o){a.next=8;break}return e.setError("password","Invalid email or password"),a.abrupt("return",!1);case 8:if("demo@gmail.com"!==r||"demo"!==o){a.next=13;break}return l={id:"demo",username:"demo",token:"demo",loggedIn:!0},e.props.loginSuccess(l),""===c?t.push("/"):""===i?t.push("/".concat(c,"/")):t.push("/".concat(c,"/").concat(i)),a.abrupt("return",!0);case 13:e.setError("password","Invalid email or password");case 14:case"end":return a.stop()}}),a)}))),e.onChange=function(a){var t,n=a.currentTarget.name,r=a.currentTarget.value;e.setState((t={},Object(ce.a)(t,n,r),Object(ce.a)(t,"errors",{email:"",password:""}),t))},e}return Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,a=e.page,t=e.id;a&&this.setPage(a,t)}},{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.errors;return r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",{className:"login-header text-center"},"Car Wash"),r.a.createElement("h4",{className:"pb-2"},"Welcome Back"),r.a.createElement(L.a,{className:"login-form"},r.a.createElement(ge,{name:"email",label:"Email",type:"text",value:a,onChange:this.onChange,errorMessage:n.email}),r.a.createElement(ge,{name:"password",label:"Password",type:"password",value:t,onChange:this.onChange,errorMessage:n.password}),r.a.createElement(W.a,{className:"btn-lg btn-dark btn-block mt-4",onClick:this.checkLogin},"Login")),r.a.createElement("div",{className:"signup-container pt-3 text-center"},r.a.createElement("p",null,"New to Car Wash? ",r.a.createElement("a",{href:"#login"},"Create Account"))))}}]),t}(r.a.Component),be={loginSuccess:function(e){return{type:b.LOGIN_SUCCESS,payload:e}}},Oe=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),be)(Ee),he=Object(j.g)(Oe),ke=t(189),fe=t(190),Te=t(191),Se=t(192),ye=t(193),ve=t(45),Ne=t.n(ve),_e=function(e){var a=e.id,t=e.name,n=e.desc;return r.a.createElement(B.b,{to:"/company/".concat(a),className:"company-card"},r.a.createElement(ke.a,{className:"box-shadow mt-2 mb-2"},r.a.createElement(fe.a,{top:!0,width:"100%",src:Ne.a,alt:t}),r.a.createElement(Te.a,null,r.a.createElement(Se.a,null,r.a.createElement("h4",null,t)),r.a.createElement(ye.a,null,n))))},Ae=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,a=e.title,t=e.companies;return r.a.createElement(K.a,null,r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement("h1",{className:"mt-4 mb-4"},a))),r.a.createElement(x.a,null,t.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},a%3===0&&0!==a&&r.a.createElement("div",{className:"w-100"}),r.a.createElement(P.a,{sm:"12",lg:"4"},r.a.createElement(_e,{id:e.id,name:e.name,desc:e.desc,street:e.street,city:e.city,state:e.state,zip:e.zip,country:e.country,phone:e.phone,email:e.email,packages:e.packages,packagesTruck:e.packagesTruck,addons:e.addons,timeSlots:e.timeSlots})))}))))}}]),t}(r.a.Component),Ce=t(194),Ie=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement(Ce.a,{style:{width:"3rem",height:"3rem"}}))}}]),t}(r.a.Component),De=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,a=e.searching,t=e.companies;return r.a.createElement("div",{className:"App"},r.a.createElement(re,{showSearch:!0,page:"/search"}),a?r.a.createElement(Ie,null):r.a.createElement(Ae,{title:"Local Results",companies:t}))}}]),t}(r.a.Component),Be=Object(i.b)((function(e){var a=e.search;return{address:a.address,searching:a.searching,companies:a.companies}}),void 0)(De),je=t(196),we=t(32),Ge=t(94),Ke=t.n(Ge),xe=t(55),Pe=t.n(xe),Le=function(e){var a=e.name,t=e.icon,n=e.iconColor,o=e.selected,c=e.onClick,i=Pe.a;switch(t){case"car":i=Ke.a;break;case"truck":default:i=Pe.a}return r.a.createElement("div",{className:"vehicle-row ".concat(o?"bg-primary":"bg-white"),onClick:c,"data-testid":"vehicle-".concat(t)},r.a.createElement(we.Icon,{icon:i,width:"1.7em",color:n}),r.a.createElement("span",{className:"vehicle-text ".concat(o?"text-white":"text-dark")},a))},We=t(95),Re=t.n(We),Me=function(e){var a=e.value,t=e.onClick,n=e.invalid,o=Object(w.a)(e,["value","onClick","invalid"]);return r.a.createElement(me.a,Object.assign({value:a,onClick:t,invalid:n},o))},He=function(e){var a=e.label,t=e.date,n=e.onChange,o=e.errorMessage;return r.a.createElement(de.a,null,""!==a&&r.a.createElement(ue.a,{for:"exampleEmail"},a),r.a.createElement(Re.a,{selected:new Date(t),onChange:function(e){return n(e?e.getTime():(new Date).getTime())},customInput:r.a.createElement(Me,{invalid:""!==o}),withPortal:!0}),r.a.createElement(pe.a,null,o))},Ue=function(e){var a=e.label,t=e.value,n=e.options,o=e.onSelect,c=e.errorMessage;return r.a.createElement(de.a,null,""!==a&&r.a.createElement(ue.a,{for:"exampleEmail"},a),r.a.createElement(me.a,{type:"select",value:t,invalid:""!==c,className:"form-control",onChange:function(e){var a=n.filter((function(a){return a.id===e.target.value}))[0];o(a)}},r.a.createElement("option",{value:"select"},"Select"),n.map((function(e,a){return r.a.createElement("option",{value:e.id,key:a},e.name)}))),r.a.createElement(pe.a,null,c))},Ye=t(50),Fe=t.n(Ye),ze=function(e){var a=e.id,t=e.name,n=e.price,o=e.duration,c=e.selected,i=e.lines,l=e.onClick;return r.a.createElement("div",{className:"package-item border py-2"},r.a.createElement("h6",null,t),r.a.createElement("h3",{className:"text-primary"},"$",n),r.a.createElement("div",{className:"flex-center border-top border-bottom py-1 my-2"},r.a.createElement(we.Icon,{icon:Fe.a,width:"0.7em",color:"#313436",className:"icon"}),r.a.createElement("span",{className:"text-muted"},o," Min")),r.a.createElement("ul",null,i&&i.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("span",null,r.a.createElement("small",null,e)))}))),r.a.createElement("div",{className:"pt-2"},r.a.createElement(W.a,{color:!0===c?"primary":"secondary",outline:!1===c,className:"px-4",onClick:l,"data-testid":"package-".concat(a)},"Select")))},Ve=t(98),Xe=t.n(Ve),Je=t(195),qe=function(e){var a=e.id,t=e.name,n=e.price,o=e.duration,c=e.selected,i=e.onClick;return r.a.createElement(Je.a,{className:"addon-item"},r.a.createElement("span",{className:"text"},r.a.createElement("small",null,t)),r.a.createElement("div",{className:"duration flex-center"},r.a.createElement(we.Icon,{icon:Fe.a,width:"0.7em",color:"#313436",className:"icon"}),r.a.createElement("small",null,o," Min")),r.a.createElement("div",{className:"price flex-center"},r.a.createElement(we.Icon,{icon:Xe.a,width:"0.7em",color:"#313436",className:"icon"}),r.a.createElement("small",null,"$",n)),r.a.createElement("div",{className:"select flex-center"},r.a.createElement(W.a,{color:!0===c?"primary":"secondary",outline:!1===c,className:"px-4",onClick:i,size:"sm","data-testid":"addon-".concat(a)},"Select")))},$e=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){var e;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={id:"",name:"",street:"",city:"",state:"",zip:"",country:"",phone:"",email:"",desc:"",packages:[],packagesTruck:[],addons:[],timeSlots:[],errors:{bookingDate:"",bookingTimeSlot:"",bookingType:"",bookingPackage:""}},e.loadCompany=function(a){var t=e.props,n=t.bookingCompany,r=t.setBookingCompany,o=$.filter((function(e){return e.id===a}))[0];if(o){var c=o.name,i=o.desc,l=o.packages,s=o.packagesTruck,d=o.addons,u=o.timeSlots;return e.setState({id:a,name:c,desc:i,packages:l,packagesTruck:s,addons:d,timeSlots:u}),(void 0===n||n.id!==a)&&r(o),!0}},e.clearError=function(a){var t=e.state.errors;t[a]="",e.setState({errors:t})},e.setError=function(a,t){var n=e.state.errors;n[a]=t,e.setState({errors:n})},e.selectBookingDate=function(a){(0,e.props.setBookingDate)(a),e.clearError("bookingDate")},e.selectBookingTimeSlot=function(a){(0,e.props.setBookingTimeSlot)(a),e.clearError("bookingTimeSlot")},e.selectBookingType=function(a){(0,e.props.setBookingType)(a),e.clearError("bookingType")},e.selectBookingPackage=function(a){(0,e.props.setBookingPackage)(a),e.clearError("bookingPackage")},e.selectBookingAddon=function(a){var t=a.id,n=e.props,r=n.addBookingAddon,o=n.removeBookingAddon;n.bookingAddonIDs.includes(t)?o(a):r(a)},e.calcTotals=function(){var a=e.props,t=a.setBookingTotal,n=a.bookingPackage,r=a.bookingAddons,o=0,c=0;n.price>0&&(o+=n.price,c+=n.duration);for(var i=0;i<r.length;i++)o+=r[i].price,c+=r[i].duration;t({price:parseFloat(o.toFixed(2)),duration:c})},e.componentDidUpdate=function(a){var t=e.props,n=t.bookingPackage,r=t.bookingAddonIDs;(a.bookingPackage!==n||a.bookingAddonIDs!==r)&&e.calcTotals()},e.login=function(){var a=e.props,t=a.history,n=a.bookingCompany;n&&t.push("/login/company/".concat(n.id))},e.checkout=function(){var a=e.props,t=a.history,n=a.bookingPackage,r=a.bookingTimeSlot,o=a.bookingType,c=0;if(void 0===r&&(e.setError("bookingTimeSlot","Required"),c=1),""===o&&(e.setError("bookingType","Required"),c=1),""===n.id&&(e.setError("bookingPackage","Required"),c=1),c>0)return!1;t.push("/checkout/")},e}return Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.loadCompany(e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.id,n=a.name,o=a.desc,c=a.packages,i=a.packagesTruck,l=a.addons,s=a.timeSlots,d=a.errors,u=this.props,m=u.loggedIn,p=u.bookingDate,g=u.bookingTimeSlot,E=u.bookingType,b=u.bookingPackage,O=u.bookingAddonIDs,h=u.bookingPrice,k=u.bookingDuration,f="Truck"===E?i:c;return console.log(d),r.a.createElement("div",{className:"App"},r.a.createElement(re,{showSearch:!1,page:"/company/".concat(t)}),r.a.createElement(K.a,null,r.a.createElement(x.a,{className:"mt-2 mb-2"},r.a.createElement(P.a,null,r.a.createElement("img",{src:Ne.a,className:"company-banner",alt:n}))),r.a.createElement(x.a,null,r.a.createElement(P.a,{sm:"12",xl:"6"},r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement("h2",null,n))),r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement("p",null,o)))),r.a.createElement(P.a,{sm:"12",xl:"6"},r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement("div",{className:"booking-container border p-3"},r.a.createElement("div",{className:"pb-1"},r.a.createElement("h6",null,"When do you want your car washed?"),r.a.createElement(x.a,null,r.a.createElement(P.a,{sm:"12",lg:"6"},r.a.createElement(He,{label:"Date",date:p,onChange:this.selectBookingDate,errorMessage:d.bookingDate})),r.a.createElement(P.a,{sm:"12",lg:"6"},r.a.createElement(Ue,{label:"Time",value:g?g.id:"select",onSelect:this.selectBookingTimeSlot,options:s,errorMessage:d.bookingTimeSlot})))),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h6",null,"What kind of car do you drive?"),r.a.createElement(x.a,null,r.a.createElement(P.a,{sm:"12",lg:"6",className:"pb-2"},r.a.createElement(Le,{name:"Car",icon:"car",iconColor:"#154379",selected:"Car"===E,onClick:function(){return e.selectBookingType("Car")}})),r.a.createElement(P.a,{sm:"12",lg:"6"},r.a.createElement(Le,{name:"Truck",icon:"truck",iconColor:"#ef412d",selected:"Truck"===E,onClick:function(){return e.selectBookingType("Truck")}}))),""!==d.bookingType&&r.a.createElement("span",{className:"text-danger"},d.bookingType)),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h6",null,"Select Package"),r.a.createElement(x.a,{className:"no-gutters"},f.map((function(a,t){return r.a.createElement(r.a.Fragment,{key:t},t%4===0&&0!==t&&r.a.createElement("div",{className:"w-100"}),r.a.createElement(P.a,{key:t,sm:"3",className:"pb-2 px-1"},r.a.createElement(ze,{id:a.id,name:a.name,price:a.price,duration:a.duration,lines:a.lines,selected:b.id===a.id,onClick:function(){return e.selectBookingPackage(a)}})))}))),""!==d.bookingPackage&&r.a.createElement("span",{className:"text-danger"},d.bookingPackage)),r.a.createElement("div",{className:"pb-3"},r.a.createElement("h6",null,"Select Addons (Optional)"),r.a.createElement(je.a,{className:"addon-container"},l&&l.map((function(a,t){return r.a.createElement(qe,{key:t,id:a.id,name:a.name,price:a.price,duration:a.duration,selected:O.includes(a.id),onClick:function(){return e.selectBookingAddon(a)}})})))),r.a.createElement("div",{className:"pb-2"},r.a.createElement("h6",null,"Payment Details"),r.a.createElement("span",{className:"d-block"},"Total Time: ",k," Mins"),r.a.createElement("span",{className:"d-block"},"Total Price: $",h)),m?r.a.createElement(W.a,{onClick:this.checkout,color:"primary",size:"lg",block:!0},"Book Your Wash"):r.a.createElement(W.a,{onClick:this.login,color:"primary",size:"lg",block:!0},"Login to book")),r.a.createElement("br",null)))))))}}]),t}(r.a.Component),Qe={setBookingCompany:function(e){return{type:b.SET_BOOKING_COMPANY,payload:e}},setBookingDate:function(e){return{type:b.SET_BOOKING_DATE,payload:e}},setBookingTimeSlot:function(e){return{type:b.SET_BOOKING_TIMESLOT,payload:e}},setBookingType:function(e){return{type:b.SET_BOOKING_TYPE,payload:e}},setBookingTotal:function(e){return{type:b.SET_BOOKING_TOTAL,payload:e}},setBookingPackage:function(e){return{type:b.SET_BOOKING_PACKAGE,payload:e}},addBookingAddon:function(e){return{type:b.ADD_BOOKING_ADDON,payload:e}},removeBookingAddon:function(e){return{type:b.REMOVE_BOOKING_ADDON,payload:e}},resetBooking:function(){return{type:b.RESET_BOOKING}}},Ze=Object(i.b)((function(e){var a=e.auth,t=e.search,n=e.booking;return{loggedIn:a.loggedIn,address:t.address,bookingCompany:n.bookingCompany,bookingDate:n.bookingDate,bookingTimeSlot:n.bookingTimeSlot,bookingType:n.bookingType,bookingPackage:n.bookingPackage,bookingAddons:n.bookingAddons,bookingAddonIDs:n.bookingAddonIDs,bookingPrice:n.bookingPrice,bookingDuration:n.bookingDuration}}),Qe)($e),ea=Object(j.g)(Ze),aa=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,{showSearch:!1,page:"/search"}),r.a.createElement(K.a,{className:"pt-4"},r.a.createElement(x.a,null,r.a.createElement(P.a,{sm:"12",xl:"8"},r.a.createElement("div",null,r.a.createElement("h2",null,"Checkout"))),r.a.createElement(P.a,{sm:"12",xl:"4"},r.a.createElement("div",null)))))}}]),t}(r.a.Component),ta=Object(i.b)((function(e){var a=e.search,t=e.booking;return{address:a.address,bookingCompany:t.bookingCompany}}),void 0)(aa),na=function(e){Object(I.a)(t,e);var a=Object(D.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,null,r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:oe}),r.a.createElement(j.b,{path:"/login",component:he,exact:!0}),r.a.createElement(j.b,{path:"/login/:page",component:he,exact:!0}),r.a.createElement(j.b,{path:"/login/:page/:id",component:he}),r.a.createElement(j.b,{path:"/search",component:Be}),r.a.createElement(j.b,{path:"/company/:id",component:ea}),r.a.createElement(G,{path:"/checkout",component:ta,loggedIn:this.props.loggedIn})))}}]),t}(r.a.Component),ra=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),void 0)(na);t(167),t(168),t(86);var oa=function(){return r.a.createElement(i.a,{store:N},r.a.createElement(l.a,{loading:null,persistor:_},r.a.createElement(ra,{loggedIn:!1})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(169);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,a,t){e.exports=t.p+"static/media/company-default.92886368.jpg"},73:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return r}));var n="LOGIN_SUCCESS",r="LOGOUT"},74:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return o})),t.d(a,"d",(function(){return c}));var n="SEARCH_SET",r="SEARCH_START",o="SEARCH_FAIL",c="SEARCH_SUCCESS"},75:function(e,a){},76:function(e,a,t){"use strict";t.d(a,"d",(function(){return n})),t.d(a,"e",(function(){return r})),t.d(a,"g",(function(){return o})),t.d(a,"i",(function(){return c})),t.d(a,"h",(function(){return i})),t.d(a,"f",(function(){return l})),t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return d})),t.d(a,"c",(function(){return u}));var n="SET_BOOKING_COMPANY",r="SET_BOOKING_DATE",o="SET_BOOKING_TIMESLOT",c="SET_BOOKING_TYPE",i="SET_BOOKING_TOTAL",l="SET_BOOKING_PACKAGE",s="ADD_BOOKING_ADDON",d="REMOVE_BOOKING_ADDON",u="RESET_BOOKING"},86:function(e,a,t){},9:function(e,a,t){"use strict";var n=t(73);t.d(a,"LOGIN_SUCCESS",(function(){return n.a})),t.d(a,"LOGOUT",(function(){return n.b}));var r=t(74);t.d(a,"SEARCH_FAIL",(function(){return r.a})),t.d(a,"SEARCH_SET",(function(){return r.b})),t.d(a,"SEARCH_START",(function(){return r.c})),t.d(a,"SEARCH_SUCCESS",(function(){return r.d}));var o=t(75);t.o(o,"ADD_BOOKING_ADDON")&&t.d(a,"ADD_BOOKING_ADDON",(function(){return o.ADD_BOOKING_ADDON})),t.o(o,"REMOVE_BOOKING_ADDON")&&t.d(a,"REMOVE_BOOKING_ADDON",(function(){return o.REMOVE_BOOKING_ADDON})),t.o(o,"RESET_BOOKING")&&t.d(a,"RESET_BOOKING",(function(){return o.RESET_BOOKING})),t.o(o,"SET_BOOKING_COMPANY")&&t.d(a,"SET_BOOKING_COMPANY",(function(){return o.SET_BOOKING_COMPANY})),t.o(o,"SET_BOOKING_DATE")&&t.d(a,"SET_BOOKING_DATE",(function(){return o.SET_BOOKING_DATE})),t.o(o,"SET_BOOKING_PACKAGE")&&t.d(a,"SET_BOOKING_PACKAGE",(function(){return o.SET_BOOKING_PACKAGE})),t.o(o,"SET_BOOKING_TIMESLOT")&&t.d(a,"SET_BOOKING_TIMESLOT",(function(){return o.SET_BOOKING_TIMESLOT})),t.o(o,"SET_BOOKING_TOTAL")&&t.d(a,"SET_BOOKING_TOTAL",(function(){return o.SET_BOOKING_TOTAL})),t.o(o,"SET_BOOKING_TYPE")&&t.d(a,"SET_BOOKING_TYPE",(function(){return o.SET_BOOKING_TYPE}));var c=t(76);t.d(a,"ADD_BOOKING_ADDON",(function(){return c.a})),t.d(a,"REMOVE_BOOKING_ADDON",(function(){return c.b})),t.d(a,"RESET_BOOKING",(function(){return c.c})),t.d(a,"SET_BOOKING_COMPANY",(function(){return c.d})),t.d(a,"SET_BOOKING_DATE",(function(){return c.e})),t.d(a,"SET_BOOKING_PACKAGE",(function(){return c.f})),t.d(a,"SET_BOOKING_TIMESLOT",(function(){return c.g})),t.d(a,"SET_BOOKING_TOTAL",(function(){return c.h})),t.d(a,"SET_BOOKING_TYPE",(function(){return c.i}))},99:function(e,a,t){e.exports=t(170)}},[[99,1,2]]]);
//# sourceMappingURL=main.271ad760.chunk.js.map